# Application
spring.application.name=lotus-game-backend

# Redis (cache). В Docker: host=lotus-redis (имя сервиса). Локально: host=localhost
spring.data.redis.host=lotus-redis
spring.data.redis.port=6379
spring.data.redis.timeout=5000ms
spring.cache.type=redis

# DataSource (PostgreSQL)
spring.datasource.url=jdbc:postgresql://ep-round-paper-091468-pooler.us-east-2.aws.neon.tech:5432/Lotus
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=postgres
spring.datasource.password=gaTResKPJX25

# JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=false

# Server
server.port=8080
server.servlet.context-path=/
# Для OAuth2 за reverse proxy: Spring будет использовать X-Forwarded-Proto (https) при построении redirect_uri
server.forward-headers-strategy=framework
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB


app.jwt.secret=${JWT_SECRET:your-256-bit-secret-key-change-in-production!!!!!!!!}
app.jwt.access-token-expiration-seconds=900
app.jwt.refresh-token-expiration-seconds=604800

# Logging
logging.level.com.lotus.game=INFO
logging.level.com.lotus.game.config.OAuthCodeStore=DEBUG
logging.level.org.springframework.security=INFO


management.endpoints.jmx.exposure.include=*


spring.mail.host=smtp-service-lotus
spring.mail.port=1025
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=false
spring.mail.properties.mail.smtp.starttls.enable=false


app.mail.from=mailer7012@gmail.com
app.mail.from.name=Lotus


app.frontend.url=https://lotus.baxic.ru

# OAuth code store: memory (по умолчанию, работает всегда) | redis (для нескольких инстансов)
# Redis иногда подвисает — используйте memory при одном инстансе
app.oauth.code-store=redis

# Google OAuth2: https://console.cloud.google.com/ -> APIs & Services -> Credentials
# Create OAuth 2.0 Client ID (Web application)
# Authorized redirect URI в Google Console = URL бэкенда + /login/oauth2/code/google
# Например: https://lotus.baxic.ru/login/oauth2/code/google или http://localhost:8080/login/oauth2/code/google
spring.security.oauth2.client.registration.google.client-id=906407442864-ks1fikeoao0ejo5ndb6ikb6rmrl721o2.apps.googleusercontent.com
spring.security.oauth2.client.registration.google.client-secret=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
spring.security.oauth2.client.registration.google.scope=openid,email,profile


yandex.storage.access-key=YCAJEgzZK6oQOaoOMX2ybbI4D
yandex.storage.secret-key=YCMXx6q8qChPFivgGHuZOVwTcfqhfsNnRe_U__BC
yandex.storage.bucket-name=lotus
yandex.storage.endpoint=https://storage.yandexcloud.net
yandex.storage.region=ru-central1
